---
title: "Build-A-Bot: Mastering Loops and Lists in Python"
subtitle: "Create Your Own Chatty Assistant While Learning Programming Fundamentals"
format: jupyter-notebook
jupyter: python3
---

## ðŸŽ¯ Learning Objectives

By the end of this activity, you will be able to:
* Create and use loops to repeat code execution multiple times
* Build and manipulate lists to store and access collections of data
* Apply loops and lists together to build a simple interactive chatbot

## ðŸš€ Introduction

Loops and lists are fundamental building blocks in programming that allow us to work with collections of data and repeat actions efficiently. In today's digital world, these concepts power everything from social media feeds to recommendation systems. This worksheet will guide you through building your own simple chatbot using these powerful tools.

## ðŸ§  Key Concepts

* **Loop**: A programming structure that repeats a sequence of instructions until a specific condition is met
* **List**: An ordered collection of items that can be changed or modified
* **Iteration**: The process of repeatedly executing a set of statements
* **Selection**: Using conditional statements to choose different paths in your program
* **Index**: A position number used to access items in a list (starting from 0)

## ðŸ¤– Activity 1: One-Shot Bot Response (Sequence)

Let's start by creating a simple bot that can respond to a single question. This helps us understand the basic flow before adding loops and lists.

```{python}
# Import the simple_bot package that connects to a local Ollama server
from simple_bot import get_response

# Try it out with a single question
question = input("Ask the bot something: ")
print("Bot:", get_response(question))
```

**Your Turn**: What other keywords could you add to the response function? Write down two more keywords and responses you'd like to add:

1. Keyword: ________________ Response: ________________________________
2. Keyword: ________________ Response: ________________________________

## ðŸ”„ Activity 2: Creating a Looping Bot (Repetition)

Now, let's enhance our bot to continue the conversation using a loop! This will allow the bot to keep responding until the user decides to end the conversation.

```{python}
print("\nWelcome to LoopBot! Ask me anything! Type 'bye' to quit.")

# Create a loop that continues until the user says 'bye'
while True:
    user_input = input("You: ")
    
    # Check if the user wants to exit
    if user_input.lower() in ["bye", "quit", "exit"]:
        print("Bot: Goodbye! ðŸ‘‹")
        break  # Exit the loop
    
    # Get and display the bot's response
    reply = get_response(user_input)
    print("Bot:", reply)
```

**Understanding the Code**:
- `while True:` creates an infinite loop that will keep running until we explicitly break out of it
- `break` is used to exit the loop when the user types 'bye', 'quit', or 'exit'
- The loop allows continuous interaction between the user and bot

## ðŸ“‹ Activity 3: Adding Memory with Lists

Let's make our bot smarter by giving it a memory! We'll use a list to store the conversation history.

```{python}
print("\nWelcome to MemoryBot! I'll try to remember what you say.")

# Create an empty list to store the conversation history
memory = []

while True:
    user_input = input("You: ")
    
    # Check if the user wants to exit
    if user_input.lower() in ["bye", "quit", "exit"]:
        print("Bot: Chat ended. I remembered", len(memory), "messages. Bye! ðŸ‘‹")
        break
    
    # Add the user's input to our memory list
    memory.append(user_input)
    
    # Display the bot's response
    response = get_response(user_input)
    print("Bot:", response)
    
    # Show the user what's in the bot's memory if they ask
    if "what do you remember" in user_input.lower():
        print("Bot memory contains:")
        for i, message in enumerate(memory):
            print(f"  {i+1}. {message}")
```

**List Operations Explained**:
- `memory = []` creates an empty list
- `memory.append(user_input)` adds the user's input to the end of the list
- `len(memory)` returns the number of items in the list
- `for i, message in enumerate(memory):` iterates through each item in the list with its position

## ðŸ§ª Activity 4: Enhanced Memory Bot Challenge

Now let's create a more sophisticated bot that:
1. Remembers only the last 3 messages (to avoid memory overload)
2. Provides context to the AI by sending previous messages
3. Provides a help menu with commands

```python
# This is example code - study it and then implement your own version below
print("\nAdvanced MemoryBot Example (non-executable)")

memory = []  # List to store messages
commands = ["help", "memory", "clear", "bye"]  # List of available commands

while True:
    user_input = input("You: ")
    
    if user_input.lower() == "bye":
        print("Bot: Goodbye!")
        break
    elif user_input.lower() == "help":
        print("Available commands:", ", ".join(commands))
    elif user_input.lower() == "memory":
        print("I remember:", memory)
    elif user_input.lower() == "clear":
        memory = []  # Clear the list
        print("Memory cleared!")
    else:
        memory.append(user_input)
        # Keep only the last 3 items
        if len(memory) > 3:
            memory = memory[-3:]  # List slicing to keep only the last 3 items
        
        # Join the memory items with newlines to create context
        context = "\n".join(memory)
        
        # Send the context to get a more informed response
        print("Bot:", get_response(context))
        print("(Memory size:", len(memory), "messages)")
```

**Your Implementation**: Now create your own enhanced memory bot below:

```{python}
# Your enhanced memory bot implementation
print("\nYour Advanced MemoryBot! Type 'help' for commands.")

# Import the needed package
from simple_bot import get_response

# Create your lists and initialize variables here
memory = []
commands = ["help", "memory", "clear", "bye"]

# Write your loop here
while True:
    user_input = input("You: ")
    
    # Implement the command handling and memory management
    # ...
    
    # Don't forget to test your code!
```

## ðŸŒŸ Extension: Personality Bot Challenge

For those who finish early, try creating a bot with different personalities! The `simple_bot` package includes some personality options like `pirate_bot` and `emoji_bot`. Use a list to store multiple personality options and let the user choose between them.

```{python}
# Import personality bots from the simple_bot package
from simple_bot import get_response, pirate_bot, emoji_bot

# Define an additional personality option
def formal_bot(message):
    return "I must say, " + get_response(message) + " Most certainly."

# List of available personalities
personalities = ["regular", "pirate", "emoji", "formal"]
current_personality = "regular"

print("\nMulti-Personality Bot! Type 'personalities' to see options.")

while True:
    user_input = input("You: ")
    
    if user_input.lower() == "bye":
        print("Bot: Until next time!")
        break
    elif user_input.lower() == "personalities":
        print("Available personalities:", ", ".join(personalities))
        print("To change, type 'switch to [personality]'")
    elif user_input.lower().startswith("switch to "):
        # Extract the requested personality from the user input
        requested = user_input.lower().replace("switch to ", "")
        if requested in personalities:
            current_personality = requested
            print(f"Bot: Switched to {current_personality} personality!")
        else:
            print("Bot: I don't know that personality yet.")
    else:
        # Respond based on the current personality
        if current_personality == "regular":
            print("Bot:", get_response(user_input))
        elif current_personality == "pirate":
            print("PirateBot:", pirate_bot(user_input))
        elif current_personality == "emoji":
            print("EmojiBot:", emoji_bot(user_input))
        elif current_personality == "formal":
            print("FormalBot:", formal_bot(user_input))
```

## ðŸ¤” Reflection

Take a moment to reflect on what you've learned:

1. How could loops make your programs more efficient?
2. What types of data would be useful to store in lists in your everyday applications?
3. How could you further enhance your bot using the concepts learned today?

## ðŸš€ Going Further

As you continue learning, consider these additional features you could add to your bot:
- Using nested lists to organize different categories of responses
- Creating a custom bot personality with a special system prompt
- Implementing file I/O to save your bot's memory between sessions
- Exploring dictionaries as another way to store data

```python
# Example of creating a custom bot personality with a system prompt
def my_bot(prompt):
    return get_response(prompt, system="You are a wise old dragon who answers questions in riddles and ancient wisdom.")

print(my_bot("How do I debug my code?"))
```

Remember: loops and lists are fundamental concepts that will appear in virtually every Python program you write throughout your programming journey!